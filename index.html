<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Miya — Nebula Box</title>
<style>
  /* Reset & layout */
  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
  body{background:#000; color:#fff; overflow:hidden; display:flex; align-items:center; justify-content:center;}
  canvas{position:fixed; inset:0; display:block; z-index:0;}
  /* Center card */
  .card{
    position:relative;
    z-index:2;
    max-width:880px;
    width:88%;
    padding:28px;
    border-radius:14px;
    backdrop-filter: blur(6px) saturate(120%);
    background: linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    text-align:center;
  }
  h1{
    margin:0 0 8px;
    font-weight:600;
    font-size:22px;
    letter-spacing:0.4px;
  }
  p.tag{
    margin:0 0 18px;
    font-size:15px;
    opacity:0.95;
  }
  .btns{display:flex; gap:10px; justify-content:center; flex-wrap:wrap;}
  .btn{
    padding:8px 14px;
    border-radius:999px;
    background: rgba(255,255,255,0.06);
    color:#fff; text-decoration:none; font-size:13px;
    border:1px solid rgba(255,255,255,0.06);
    transition: transform .15s ease, background .15s ease;
  }
  .btn:hover{ transform: translateY(-3px); background: rgba(255,255,255,0.09); }
  /* footer anchors (hidden sections can be real pages later) */
  footer{position:relative; z-index:2; margin-top:14px; text-align:center; font-size:12px; opacity:0.9;}
  /* small screens tweak */
  @media (max-width:520px){
    .card{padding:18px;}
    h1{font-size:18px;}
    p.tag{font-size:14px;}
  }
</style>
</head>
<body>
<canvas id="nebula"></canvas>

<div class="card" role="main">
  <h1>Miya</h1>
  <!-- 替換下面這句成你想要的一句話個人簡介 -->
  <p class="tag">"Nebula in a jewelry box" as a metaphor for constrained intelligence.</p>

  <div class="btns">
    <a class="btn" href="#games">Games</a>
    <a class="btn" href="#videos">Videos</a>
    <a class="btn" href="#notes">AI Notes</a>
  </div>

  <footer>
    <small>Built with a simple canvas nebula • Deploy: GitHub Pages</small>
  </footer>
</div>

<script>
/* Simple particle-based nebula visual.
   - No external libs
   - Additive blending, layered particles, subtle color shifts
   - Tunable: PARTICLE_COUNT, LAYERS, COLOR_PALETTE
*/

const canvas = document.getElementById('nebula');
const ctx = canvas.getContext('2d');
let W=0,H=0, DPR = Math.max(1, window.devicePixelRatio || 1);

function resize(){
  W = innerWidth;
  H = innerHeight;
  canvas.width = Math.floor(W * DPR);
  canvas.height = Math.floor(H * DPR);
  canvas.style.width = W + 'px';
  canvas.style.height = H + 'px';
  ctx.setTransform(DPR,0,0,DPR,0,0);
}
addEventListener('resize', resize);
resize();

/* Config */
const LAYERS = 3;
const PARTICLE_COUNT = 45; // per layer
const PALETTE = [
  {h: 260, s: 80, l: 55}, // purple
  {h: 200, s: 75, l: 60}, // cyan
  {h: 320, s: 70, l: 55}  // magenta-ish
];

function rand(min, max){ return Math.random()*(max-min)+min; }

class Particle {
  constructor(layerIndex){
    this.layer = layerIndex;
    this.reset(true);
  }
  reset(initial=false){
    // position can start off-screen for smooth entrance
    this.x = rand(-0.3*W, 1.3*W);
    this.y = rand(-0.3*H, 1.3*H);
    const base = 0.1 + this.layer * 0.6; // speed base per layer
    this.vx = rand(-0.03,0.03) * base;
    this.vy = rand(-0.01,0.01) * base;
    this.size = rand(120, 420) * (1 + this.layer*0.6);
    // hue chosen from palette, slight variation
    const color = PALETTE[(this.layer + Math.floor(Math.random()*PALETTE.length)) % PALETTE.length];
    this.h = color.h + rand(-10,10);
    this.s = color.s + rand(-6,6);
    this.l = color.l + rand(-6,6);
    this.alpha = rand(0.035, 0.18);
    this.twist = rand(0,Math.PI*2);
    if(initial) this.age = rand(0,200);
    else this.age = 0;
  }
  step(dt){
    // small perlin-like gentle flow simulated by sin/cos fields
    const t = performance.now() * 0.00008;
    const flowX = Math.cos((this.y*0.002 + t + this.twist))*0.15;
    const flowY = Math.sin((this.x*0.002 + t - this.twist))*0.15;
    this.x += (this.vx + flowX) * dt;
    this.y += (this.vy + flowY) * dt;
    this.age += dt;
    // wrap around edges softly
    if(this.x < -0.5*W || this.x > 1.5*W || this.y < -0.5*H || this.y > 1.5*H) this.reset();
  }
  draw(ctx){
    // draw a radial gradient circle, using additive blending
    const r = this.size * (0.7 + 0.3*Math.sin(this.age*0.002 + this.twist));
    const g = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, r);
    g.addColorStop(0, `hsla(${this.h}, ${this.s}%, ${this.l}%, ${this.alpha})`);
    g.addColorStop(0.25, `hsla(${this.h+10}, ${this.s}%, ${this.l-6}%, ${this.alpha*0.85})`);
    g.addColorStop(0.6, `hsla(${this.h+30}, ${this.s-10}%, ${this.l-12}%, ${this.alpha*0.45})`);
    g.addColorStop(1, `hsla(${this.h+40}, ${this.s-20}%, ${this.l-20}%, 0)`);
    ctx.fillStyle = g;
    ctx.beginPath();
    ctx.arc(this.x, this.y, r, 0, Math.PI*2);
    ctx.fill();
  }
}

/* Build particle sets */
const layers = [];
for(let L=0; L<LAYERS; L++){
  const arr = [];
  for(let i=0;i<PARTICLE_COUNT;i++) arr.push(new Particle(L));
  layers.push(arr);
}

/* Animation loop */
let last = performance.now();
function frame(now){
  const dt = Math.min(60, now - last); // ms
  last = now;
  // subtle background clear with slight fade to create motion trails
  ctx.globalCompositeOperation = 'source-over';
  ctx.fillStyle = 'rgba(0,0,0,0.12)';
  ctx.fillRect(0,0,W,H);

  // additive layer draw
  ctx.globalCompositeOperation = 'lighter';
  for(let L=0; L<LAYERS; L++){
    const depthAlpha = 0.6 + L*0.6; // deeper layers brighter
    for(const p of layers[L]){
      p.step(dt);
      // tweak global alpha by layer
      ctx.save();
      ctx.globalAlpha = Math.min(1, p.alpha * depthAlpha);
      p.draw(ctx);
      ctx.restore();
    }
  }

  // small vignette to keep center focus
  ctx.globalCompositeOperation = 'source-over';
  const vg = ctx.createRadialGradient(W/2, H/2, Math.min(W,H)*0.2, W/2, H/2, Math.max(W,H)*0.8);
  vg.addColorStop(0, 'rgba(0,0,0,0)');
  vg.addColorStop(1, 'rgba(0,0,0,0.18)');
  ctx.fillStyle = vg;
  ctx.fillRect(0,0,W,H);

  requestAnimationFrame(frame);
}
requestAnimationFrame(frame);

/* Interactivity: click to nudge particles, press 'c' to randomize palette */
window.addEventListener('pointermove', (e)=>{
  // small local disturbance: push nearby particles slightly
  const mx = e.clientX, my = e.clientY;
  for(let L=0; L<LAYERS; L++){
    const arr = layers[L];
    for(let i=0;i<6;i++){
      const p = arr[Math.floor(Math.random()*arr.length)];
      const dx = p.x - mx, dy = p.y - my;
      const d2 = dx*dx + dy*dy;
      if(d2 < 120000){
        p.vx += (dx*0.00002) * (1+L*0.5);
        p.vy += (dy*0.00002) * (1+L*0.5);
      }
    }
  }
});
window.addEventListener('click', ()=>{ // small re-randomize
  for(const arr of layers) for(const p of arr) { p.vx += rand(-0.06,0.06); p.vy += rand(-0.03,0.03); }
});
window.addEventListener('keydown', (e)=>{
  if(e.key === 'c'){ // change hues slightly
    for(const arr of layers) for(const p of arr) p.h += rand(-20,20);
  }
});
</script>
</body>
</html>
